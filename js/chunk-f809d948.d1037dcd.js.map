{"version":3,"sources":["webpack:///./src/views/Account.vue?b36b","webpack:///./src/views/Account.vue?c8a7","webpack:///src/views/Account.vue","webpack:///./src/views/Account.vue?71f2","webpack:///./src/views/Account.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Account_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Account_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","model","user","_v","placeholder","on","change","updateUser","value","callback","$$v","$set","expression","readonly","type","click","logout","surveys","length","show-header","data","default-sort","prop","order","row-key","row-click","showSurvey","formatter","formatDate","label","sortable","width","scopedSlots","_u","key","fn","scope","_s","row","name","closable","appeals","showAppeal","description","_e","visible","showAppealDialog","update:visible","$event","appeal","proposal","slot","staticRenderFns","Accountvue_type_script_lang_js_","metaInfo","title","computed","Object","objectSpread","vuex_esm","created","getUser","getSurveys","getAppeals","methods","_getUser","asyncToGenerator","regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","$http","get","concat","current_user","id","sent","stop","apply","arguments","_updateUser","_callee2","_this","_context2","patch","then","$message","success","$store","dispatch","_getAppeals","_callee3","_context3","$router","push","params","_getSurveys","_callee4","_context4","column","cellValue","format","views_Accountvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/chunk-f809d948.d1037dcd.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Account\"},[(_vm.user)?_c('div',{staticClass:\"container\"},[_c('el-form',{ref:\"userForm\",staticClass:\"user-form\",attrs:{\"model\":_vm.user}},[_c('div',{staticClass:\"body\"},[_c('h3',{staticClass:\"title\"},[_vm._v(\"\\n          Аккаунт\\n        \")]),_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"Имя\"},on:{\"change\":_vm.updateUser},model:{value:(_vm.user.first_name),callback:function ($$v) {_vm.$set(_vm.user, \"first_name\", $$v)},expression:\"user.first_name\"}})],1),_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"Фамилия\"},on:{\"change\":_vm.updateUser},model:{value:(_vm.user.last_name),callback:function ($$v) {_vm.$set(_vm.user, \"last_name\", $$v)},expression:\"user.last_name\"}})],1),_c('el-form-item',[_c('el-input',{attrs:{\"placeholder\":\"Отчество\"},on:{\"change\":_vm.updateUser},model:{value:(_vm.user.second_name),callback:function ($$v) {_vm.$set(_vm.user, \"second_name\", $$v)},expression:\"user.second_name\"}})],1),_c('el-form-item',[_c('el-input',{attrs:{\"readonly\":true,\"placeholder\":\"Электронная почта\"},model:{value:(_vm.user.email),callback:function ($$v) {_vm.$set(_vm.user, \"email\", $$v)},expression:\"user.email\"}})],1)],1),_c('div',{staticClass:\"settings\"},[_c('div',{staticClass:\"hint\"},[_c('i',{staticClass:\"fa fa-check fa-fw\"}),_vm._v(\"\\n          Изменения сохраняются автоматически\\n        \")]),_c('el-button',{attrs:{\"type\":\"warning\"},on:{\"click\":_vm.logout}},[_vm._v(\"Выйти\")])],1)]),_c('div',{staticClass:\"user-history\"},[_c('div',{staticClass:\"surveys\"},[_c('h4',{staticClass:\"title\"},[_vm._v(\"Опросы\")]),(_vm.surveys && _vm.surveys.length > 0)?_c('el-table',{attrs:{\"show-header\":true,\"data\":_vm.surveys,\"default-sort\":{prop: 'completed_at', order: 'descending'},\"row-key\":\"id\"},on:{\"row-click\":_vm.showSurvey}},[_c('el-table-column',{attrs:{\"formatter\":_vm.formatDate,\"label\":\"Пройден\",\"sortable\":\"\",\"width\":\"200\",\"prop\":\"completed_at\"}}),_c('el-table-column',{attrs:{\"label\":\"Название\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"truncate\"},[_vm._v(_vm._s(scope.row.name))])]}}])})],1):_c('el-alert',{attrs:{\"closable\":false,\"type\":\"info\"}},[_vm._v(\"У Вас пока нет завершенных опросов\")])],1),_c('div',{staticClass:\"appeals\"},[_c('h4',{staticClass:\"title\"},[_vm._v(\"Обращения\")]),(_vm.appeals && _vm.appeals.length > 0)?_c('el-table',{attrs:{\"data\":_vm.appeals,\"default-sort\":{prop: 'created_at', order: 'descending'},\"show-header\":true,\"row-key\":\"id\"},on:{\"row-click\":_vm.showAppeal}},[_c('el-table-column',{attrs:{\"formatter\":_vm.formatDate,\"sortable\":\"\",\"width\":\"200\",\"label\":\"Отправлено\",\"prop\":\"created_at\"}}),_c('el-table-column',{attrs:{\"label\":\"Текст\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"truncate\"},[_vm._v(_vm._s(scope.row.description))])]}}])})],1):_c('el-alert',{attrs:{\"closable\":false,\"type\":\"info\"}},[_vm._v(\"Вы не оставляли обращений\")])],1)])],1):_vm._e(),_c('el-dialog',{attrs:{\"visible\":_vm.showAppealDialog},on:{\"update:visible\":function($event){_vm.showAppealDialog=$event}}},[_c('h3',[_vm._v(\"Текст обращения\")]),_c('p',[_vm._v(\"\\n      \"+_vm._s(_vm.appeal.description)+\"\\n    \")]),(_vm.appeal.proposal)?_c('h3',[_vm._v(\"Предложенные решения\")]):_vm._e(),_c('p',[_vm._v(\"\\n      \"+_vm._s(_vm.appeal.proposal)+\"\\n    \")]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.showAppealDialog = false}}},[_vm._v(\"Закрыть\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"Account\">\n    <!-- ### START CONTAINER ### -->\n    <div\n      class=\"container\" v-if=\"user\">\n      <el-form\n        ref=\"userForm\"\n        :model=\"user\"\n        class=\"user-form\">\n        <div class=\"body\">\n          <h3 class=\"title\">\n            Аккаунт\n          </h3>\n\n          <el-form-item>\n            <el-input\n              v-model=\"user.first_name\"\n              placeholder=\"Имя\"\n              @change=\"updateUser\" />\n          </el-form-item>\n          <el-form-item>\n            <el-input\n              v-model=\"user.last_name\"\n              placeholder=\"Фамилия\"\n              @change=\"updateUser\" />\n          </el-form-item>\n          <el-form-item>\n            <el-input\n              v-model=\"user.second_name\"\n              placeholder=\"Отчество\"\n              @change=\"updateUser\" />\n          </el-form-item>\n          <el-form-item>\n            <el-input\n              v-model=\"user.email\"\n              :readonly=\"true\"\n              placeholder=\"Электронная почта\" />\n          </el-form-item>\n        </div>\n        <div class=\"settings\">\n          <div class=\"hint\">\n            <i class=\"fa fa-check fa-fw\" />\n            Изменения сохраняются автоматически\n          </div>\n          <el-button\n            type=\"warning\"\n            @click=\"logout\">Выйти</el-button>\n        </div>\n      </el-form>\n\n      <div class=\"user-history\">\n        <div class=\"surveys\">\n          <h4 class=\"title\">Опросы</h4>\n          <el-table\n            v-if=\"surveys && surveys.length > 0\"\n            :show-header=\"true\"\n            :data=\"surveys\"\n            :default-sort=\"{prop: 'completed_at', order: 'descending'}\"\n            row-key=\"id\"\n            @row-click=\"showSurvey\">\n            <el-table-column\n              :formatter=\"formatDate\"\n              label=\"Пройден\"\n              sortable\n              width=\"200\"\n              prop=\"completed_at\"\n            />\n            <el-table-column\n              label=\"Название\"\n            >\n              <template slot-scope=\"scope\">\n                <span class=\"truncate\">{{ scope.row.name }}</span>\n              </template>\n            </el-table-column>\n          </el-table>\n          <el-alert\n            v-else\n            :closable=\"false\"\n            type=\"info\">У Вас пока нет завершенных опросов</el-alert>\n        </div>\n\n        <div class=\"appeals\">\n          <h4 class=\"title\">Обращения</h4>\n          <el-table\n            v-if=\"appeals && appeals.length > 0\"\n            :data=\"appeals\"\n            :default-sort=\"{prop: 'created_at', order: 'descending'}\"\n            :show-header=\"true\"\n            row-key=\"id\"\n            @row-click=\"showAppeal\">\n            <el-table-column\n              :formatter=\"formatDate\"\n              sortable\n              width=\"200\"\n              label=\"Отправлено\"\n              prop=\"created_at\"\n            />\n            <el-table-column label=\"Текст\">\n              <template slot-scope=\"scope\">\n                <span class=\"truncate\">{{ scope.row.description }}</span>\n              </template>\n            </el-table-column>\n          </el-table>\n          <el-alert\n            v-else\n            :closable=\"false\"\n            type=\"info\">Вы не оставляли обращений</el-alert>\n        </div>\n      </div>\n    </div>\n    <!-- ### END CONTAINER ### -->\n\n    <!-- ### showAppealDialog Start ### -->\n    <el-dialog\n      :visible.sync=\"showAppealDialog\"\n    >\n      <h3>Текст обращения</h3>\n      <p>\n        {{ appeal.description }}\n      </p>\n      <h3\n        v-if=\"appeal.proposal\">Предложенные решения</h3>\n      <p>\n        {{ appeal.proposal }}\n      </p>\n\n      <!--template v-if=\"appeal.attachments\">\n        <h4>Вложения</h4>\n\n        <div\n          v-for=\"(attachment, index) in appeal.attachments\"\n          :key=\"attachment.id\"\n        >\n          <a\n            :href=\"getUrl(attachment.attachment_url)\"\n            target=\"_blank\"\n          >\n            Вложение №{{ index + 1 }}\n          </a>\n        </div>\n      </template-->\n\n      <span\n        slot=\"footer\"\n        class=\"dialog-footer\"\n      >\n        <el-button\n          type=\"primary\"\n          @click=\"showAppealDialog = false\"\n        >Закрыть</el-button>\n      </span>\n    </el-dialog>\n    <!-- ### showAppealDialog End ### -->\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport { format } from 'date-fns';\n\nexport default {\n  name: 'Account',\n\n  metaInfo: {\n    title: 'Аккаунт',\n  },\n\n  data() {\n    return {\n      user: null,\n      surveys: [],\n      appeals: [],\n      appeal: {},\n      showAppealDialog: false,\n    };\n  },\n\n  computed: {\n    ...mapState('auth', ['current_user']),\n  },\n\n  created() {\n    this.getUser();\n    this.getSurveys();\n    this.getAppeals();\n  },\n\n  methods: {\n    async getUser() {\n      const response = await this.$http.get(`users/${this.current_user.id}`);\n      this.user = response.data;\n    },\n\n    async updateUser() {\n      this.$http.patch(`/users/${this.current_user.id}`, { user: this.user })\n        .then(() => {\n          this.$message.success('Аккаунт обновлен');\n          this.getUser();\n        });\n    },\n\n    logout() {\n      this.$store.dispatch('auth/logout');\n    },\n\n    async getAppeals() {\n      const response = await this.$http.get('user/civil_appeals');\n      this.appeals = response.data;\n    },\n\n    showAppeal(row) {\n      this.appeal = row;\n      this.showAppealDialog = true;\n    },\n\n    showSurvey(row) {\n      this.$router.push({name: 'SurveyPassing', params: {id: row.id}});\n    },\n\n    async getSurveys() {\n      const response = await this.$http.get('user/surveys?completed=true');\n      this.surveys = response.data;\n    },\n\n    formatDate(row, column, cellValue) {\n      return format(cellValue, 'dd.MM.yyyy');\n    },\n  },\n};\n</script>\n\n<style\n  lang='scss'\n>\n.Account {\n  padding: 2rem 1rem;\n  background-color: $gray-silver;\n  position: static;\n  .title {\n    margin-bottom: 2rem;\n    font-weight: 400;\n    font-size: 20px;\n    .small {\n      font-size: 0.75rem;\n      color: $gray;\n      margin-left: 0.5rem;\n    }\n  }\n  .user-form {\n    background-color: #fff;\n    border-radius: 8px;\n    padding: 1rem;\n    margin-bottom: 2rem;\n    .settings {\n      margin-top: 2rem;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      border-radius: 8px;\n      .hint {\n        color: $success;\n      }\n    }\n  }\n  .user-history {\n    display: flex;\n    flex-flow: column nowrap;\n    .appeals, .surveys {\n      background-color: #fff;\n      border-radius: 8px;\n      padding: 1rem;\n      .cell {\n        //padding-left: 0;\n        cursor: pointer;\n      }\n      .title {\n        margin-bottom: 1rem;\n      }\n    }\n    .surveys {\n      margin-bottom: 2rem;\n    }\n\n    @media(min-width: 900px) {\n      flex-flow: row wrap;\n      justify-content: space-between;\n      .appeals, .surveys {\n        width: calc(50% - 1rem);\n        margin-bottom: 0;\n        padding: 2rem;\n      }\n    }\n  }\n\n  @media(min-width: 900px) {\n    padding: 2rem;\n    .title {\n      font-size: 22px;\n      margin-bottom: 2rem;\n    }\n    .user-form {\n      padding: 2rem;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Account.vue?vue&type=template&id=46cd6cde&\"\nimport script from \"./Account.vue?vue&type=script&lang=js&\"\nexport * from \"./Account.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Account.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Account.vue\"\nexport default component.exports"],"sourceRoot":""}