{"version":3,"sources":["webpack:///./src/components/Survey.vue?0943","webpack:///src/components/Survey.vue","webpack:///./src/components/Survey.vue?ab6a","webpack:///./src/components/Survey.vue","webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./src/components/Survey.vue?f360","webpack:///./src/views/Home.vue?c73d","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?493c","webpack:///./src/views/Home.vue","webpack:///./src/views/Home.vue?893a","webpack:///./src/assets/trianglify.svg"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","xmlns","width","height","viewBox","fill","d","survey","color","_v","_s","surveyType","_e","_f","name","description","src","imagePath","alt","staticRenderFns","Surveyvue_type_script_lang_js_","filters","truncate","str","n","arguments","length","undefined","concat","slice","props","type","Object","default","computed","cover_url","__webpack_require__","_this$$store$getters$","$store","getters","value","components_Surveyvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","fails","module","exports","method","arg","call","$export","aFunction","toObject","$sort","sort","test","P","F","comparefn","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Survey_vue_vue_type_style_index_0_id_8ec166a4_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Survey_vue_vue_type_style_index_0_id_8ec166a4_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","_m","surveys","to","directives","rawName","expression","_l","key","id","params","tag","isGettingSurveys","closable","title","Homevue_type_script_lang_js_","metaInfo","titleTemplate","components","Survey","data","objectSpread","vuex_esm","mounted","_mounted","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","current_user","getSurveys","url","stop","apply","methods","_getSurveys","_callee2","_ref","_ref2","_err$response","_context2","$http","get","sent","filter","published","link_only","archived_at","a","b","Date","created_at","t0","response","status","console","error","finish","_x","views_Homevue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Home_vue_vue_type_style_index_0_id_997f6596_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Home_vue_vue_type_style_index_0_id_997f6596_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","p"],"mappings":"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","file":"js/chunk-534068b0.d9048a2a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Survey\"},[_c('div',{staticClass:\"corner\"},[_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"60\",\"height\":\"60\",\"viewBox\":\"0 0 60 60\",\"fill\":\"none\"}},[_c('path',{attrs:{\"d\":\"M60 60L60 8C60 3.58172 56.4183 4.27116e-08 52 9.5399e-08L-3.8147e-06 7.15493e-07L60 60Z\",\"fill\":_vm.survey.color}})])]),_c('div',{staticClass:\"content\"},[(_vm.survey.type)?_c('div',{staticClass:\"tag tag-type\"},[_vm._v(_vm._s(_vm.surveyType))]):_vm._e(),_c('h1',{staticClass:\"name\"},[_vm._v(_vm._s(_vm._f(\"truncate\")(_vm.survey.name,40)))]),_c('h3',{staticClass:\"description\"},[_vm._v(_vm._s(_vm._f(\"truncate\")(_vm.survey.description,70)))])]),(_vm.survey.cover_url)?_c('img',{staticClass:\"image\",attrs:{\"src\":_vm.imagePath,\"alt\":\"image\"}}):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"Survey\">\n    <div\n      class=\"corner\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"60\" height=\"60\" viewBox=\"0 0 60 60\" fill=\"none\">\n        <path d=\"M60 60L60 8C60 3.58172 56.4183 4.27116e-08 52 9.5399e-08L-3.8147e-06 7.15493e-07L60 60Z\" :fill=\"survey.color\"/>\n      </svg>\n    </div>\n    <div\n      class=\"content\">\n      <div\n        v-if=\"survey.type\"\n        class=\"tag tag-type\">{{ surveyType }}</div>\n      <h1 class=\"name\">{{ survey.name | truncate(40) }}</h1>\n      <h3 class=\"description\">{{ survey.description | truncate(70) }}</h3>\n    </div>\n\n    <img\n      v-if=\"survey.cover_url\"\n      :src=\"imagePath\"\n      alt=\"image\"\n      class=\"image\"\n    >\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'Survey',\n\n  filters: {\n    truncate(str, n = 80) {\n      if (str?.length > n) {\n        return `${str.slice(0, n - 3)}...`;\n      }\n\n      return str;\n    },\n  },\n\n  props: {\n    survey: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n\n  computed: {\n    imagePath() {\n      return this.survey.cover_url ? `${process.env.VUE_APP_API}${this.survey.cover_url}` : require('@/assets/trianglify.svg');\n    },\n\n    surveyType() {\n      return this.$store.getters['surveys/getTypeByKey'](this.survey.type)?.value;\n    },\n  },\n};\n</script>\n\n<style\n  lang='scss'\n  scoped\n>\n.Survey {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  min-height: 240px;\n  padding: 1.8rem 2rem;\n  border-radius: 8px;\n  background-color: $gray-silver;\n  cursor: pointer;\n  position: relative;\n\n  @media (min-width: 600px) {\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    flex-direction: initial;\n    align-items: initial;\n  }\n\n  .corner {\n    position: absolute;\n    top: 0;\n    right: 0;\n    border-top-right-radius: 8px;\n  }\n}\n\n.content {\n  padding-right: 1rem;\n}\n\n.tag.tag-type {\n  font-size: 12px;\n  color: $gray-darker;\n  font-weight: bold;\n  text-transform: uppercase;\n  display: inline-block;\n}\n\n.name {\n  line-height: 1.1;\n  font-weight: 400;\n  font-size: 24px;\n\n  @media (min-width: 600px) {\n    margin-top: 0;\n    font-size: 26px;\n  }\n  @media (min-width: 1200px) {\n    margin-top: 0;\n    font-size: 28px;\n  }\n}\n\n.description {\n  margin-top: 1rem;\n  font-weight: 400;\n  font-size: 1rem;\n  color: $gray-darker;\n}\n\n.image {\n  flex-shrink: 0;\n  order: -1;\n  width: 11rem;\n  height: 11rem;\n  border-radius: 50%;\n  object-fit: cover;\n  margin-bottom: 1rem;\n\n  @media (min-width: 600px) {\n    order: initial;\n    margin-bottom: 0;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Survey.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Survey.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Survey.vue?vue&type=template&id=8ec166a4&scoped=true&\"\nimport script from \"./Survey.vue?vue&type=script&lang=js&\"\nexport * from \"./Survey.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Survey.vue?vue&type=style&index=0&id=8ec166a4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8ec166a4\",\n  null\n  \n)\n\ncomponent.options.__file = \"Survey.vue\"\nexport default component.exports","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Survey.vue?vue&type=style&index=0&id=8ec166a4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Survey.vue?vue&type=style&index=0&id=8ec166a4&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"Home\"},[_vm._m(0),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"heading\"},[_c('h2',{staticClass:\"title\"},[_vm._v(\"Актуальные опросы\")]),(_vm.surveys.length > 0)?_c('router-link',{staticClass:\"link\",attrs:{\"to\":{ name: 'Surveys' }}},[_vm._v(\"\\n        Смотреть все\\n      \")]):_vm._e()],1),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isGettingSurveys),expression:\"isGettingSurveys\"}],staticClass:\"loading\"},[(_vm.surveys.length > 0)?_c('div',{staticClass:\"surveys\"},_vm._l((_vm.surveys),function(survey){return _c('router-link',{key:survey.id,attrs:{\"to\":{\n            name: 'SurveyPassing',\n            params: { id: survey.id }\n          },\"tag\":\"div\"}},[_c('Survey',{attrs:{\"survey\":survey}})],1)})):(!_vm.isGettingSurveys)?_c('el-alert',{staticClass:\"not-found\",attrs:{\"closable\":false,\"title\":\"Нет доступных опросов\",\"type\":\"warning\"}}):_vm._e()],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header\"},[_c('div',{staticClass:\"wrapper\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"\\n        Эффективная команда\\n        \"),_c('div',{staticClass:\"small\"},[_vm._v(\"Опросы и обращения граждан\")])])])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"Home\">\n    <div class=\"header\">\n      <div class=\"wrapper\">\n        <h1 class=\"title\">\n          Эффективная команда\n          <div class=\"small\">Опросы и обращения граждан</div>\n        </h1>\n      </div>\n\n      <!--img\n        src=\"@/assets/pskov_bg2.jpg\"\n        class=\"background\"\n      -->\n    </div>\n\n    <div class=\"container\">\n      <div class=\"heading\">\n        <h2 class=\"title\">Актуальные опросы</h2>\n        <router-link\n          v-if=\"surveys.length > 0\"\n          :to=\"{ name: 'Surveys' }\"\n          class=\"link\"\n        >\n          Смотреть все\n        </router-link>\n      </div>\n      <div\n        v-loading=\"isGettingSurveys\"\n        class=\"loading\"\n      >\n        <div\n          v-if=\"surveys.length > 0\"\n          class=\"surveys\"\n        >\n          <router-link\n            v-for=\"survey in surveys\"\n            :key=\"survey.id\"\n            :to=\"{\n              name: 'SurveyPassing',\n              params: { id: survey.id }\n            }\"\n            tag=\"div\"\n          >\n            <Survey :survey=\"survey\" />\n          </router-link>\n        </div>\n\n        <el-alert\n          v-else-if=\"!isGettingSurveys\"\n          :closable=\"false\"\n          class=\"not-found\"\n          title=\"Нет доступных опросов\"\n          type=\"warning\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport Survey from '../components/Survey.vue';\n\nexport default {\n  name: 'Home',\n\n  metaInfo: {\n    title: 'Эффективная Команда',\n    titleTemplate: null,\n  },\n\n  components: {\n    Survey,\n  },\n\n  data() {\n    return {\n      isGettingSurveys: true,\n      surveys: [],\n    };\n  },\n\n  computed: {\n    ...mapState('auth', ['current_user']),\n  },\n\n  async mounted() {\n    if (this.current_user) {\n      await this.getSurveys({ url: '/user/surveys' });\n    } else {\n      await this.getSurveys({ url: '/surveys' });\n    }\n  },\n\n  methods: {\n    async getSurveys({ url }) {\n      try {\n        const { data } = await this.$http.get(url);\n        this.surveys = data.filter(survey => survey.published\n          && !survey.link_only\n          && !survey.archived_at).slice(0, 4);\n        // Быстрое решение. Сортируем опросы по дате и вначале показываем самые новые.\n        this.surveys.sort((a, b) => new Date(b.created_at) - new Date(a.created_at));\n      } catch (err) {\n        // Если токен был не валиден, будет запрос за открытыми опросами.\n        if (err?.response?.status === 401) {\n          await this.getSurveys({ url: '/surveys' });\n        }\n\n        console.error('Home / getSurveys', err);\n      } finally {\n        this.isGettingSurveys = false;\n      }\n    },\n  },\n};\n</script>\n\n<style\n  lang='scss'\n  scoped\n>\n.Home {\n}\n\n.header {\n  //display: flex;\n  //align-items: center;\n  height: 50vh;\n  min-height: 400px;\n  padding: 1rem;\n  background-image: url(\"~@/assets/pskov_bg2.jpg\");\n  background-repeat: no-repeat;\n  background-size: cover;\n  background-position: 50% 25%;\n  position: relative;\n\n  &:before {\n    content: '';\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background-image: linear-gradient(to right, rgba(#000, 0.3), transparent 50%);\n    z-index: 1;\n  }\n\n  .wrapper {\n    max-width: 1200px;\n    height: 100%;\n    margin: auto;\n    display: flex;\n    align-items: center;\n    z-index: 2;\n    position: relative;\n\n  }\n\n  .title {\n    color: white;\n    line-height: 1.2;\n    font-size: calc(1.4rem + 1.9vw);\n    font-weight: 900;\n    text-shadow: rgba(#000, 0.8) 0 1px 2px;\n\n    .small {\n      font-weight: 400;\n      font-size: 0.6em;\n      margin-top: 1rem;\n    }\n  }\n\n  @media (min-width: 700px) {\n    padding: 2rem;\n    .title {\n      font-size: calc(1.7rem + 1.9vw);\n    }\n  }\n}\n\n.loading {\n  min-height: 20rem;\n}\n\n.container {\n  padding: 2rem 1rem;\n\n  .heading {\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-end;\n    max-width: 1200px;\n    margin: auto;\n\n    .title {\n      font-size: 22px;\n      font-weight: 400;\n      line-height: 1.1;\n      margin-right: 1rem;\n    }\n\n    .link {\n      font-size: 1rem;\n      font-weight: 400;\n      text-transform: capitalize;\n      line-height: 1.3;\n    }\n  }\n\n  @media(min-width: 700px) {\n    padding: 4rem 2rem;\n    .heading {\n      .title {\n        font-size: 28px;\n      }\n\n      .link {\n        font-size: 1.2rem;\n      }\n    }\n  }\n}\n\n.surveys {\n  display: grid;\n  grid-auto-rows: max-content;\n  grid-template-columns: auto;\n  justify-content: center;\n  grid-gap: 1rem;\n  min-height: 20rem;\n  max-width: 1200px;\n  margin: 2rem auto;\n  @media (min-width: 700px) {\n    grid-gap: 2rem;\n  }\n  @media (min-width: 1000px) {\n    grid-template-columns: repeat(auto-fit, calc(50% - 1rem));\n    grid-gap: 2rem;\n    justify-content: space-between;\n  }\n}\n\n.not-found {\n  margin-top: 1rem;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=997f6596&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=997f6596&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"997f6596\",\n  null\n  \n)\n\ncomponent.options.__file = \"Home.vue\"\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=997f6596&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=997f6596&lang=scss&scoped=true&\"","module.exports = __webpack_public_path__ + \"img/trianglify.0c2b51d9.svg\";"],"sourceRoot":""}